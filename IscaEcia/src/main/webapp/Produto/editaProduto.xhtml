<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:composition template="/index.xhtml">
        <ui:define name="body">
           
            <h:form>     
    <p:growl id="messages" showDetail="true" />
 
    <p:toolbar>
        <f:facet name="left">
            <p:commandButton value="Inicio" action="/index"/>
            <span class="ui-separator">
                <span class="ui-icon ui-icon-grip-dotted-vertical" />
            </span>
                
                <p:outputLabel value="Produto" />
        </f:facet>
    </p:toolbar>
    <p:panel>
          <h:panelGrid id="grid" columns="2" cellpadding="5" > 
            <p:outputLabel value="Nome" style="width: 20%"/>    
            <p:inputText value="#{controleProduto.prod.nome}"
                              required="true"
                              requiredMessage="O nome e Obrigatorio"
                              id="Nome"
                              size="30"
                              title="Nome Produto"
                              style="width: 80%"/>
           
            <p:outputLabel value="Categoria: " style="width: 20%" />
            <p:selectOneMenu id="cat" value="#{controleProduto.prod.tipo}">
                <f:selectItem itemLabel="Materia - Prima" itemValue="MateriaPrima"/>
                <f:selectItem itemLabel="Produto Venda" itemValue="Produto Venda"/>
            </p:selectOneMenu>
            
            <p:outputLabel value="GrupoProduto" style="width: 20%"/>
            <p:autoComplete value="#{controleProduto.prod.gprod}"
                            completeMethod="#{controleProduto.getListaGrupoFiltrando}"
                                           var="gru"
                                           itemLabel="#{gru.descricao}"
                                           itemValue="#{gru}"
                                           converter="#{controleProduto.grupoconver}"
                                           forceSelection="true"
                                           />
            
            
            <p:outputLabel value="Quantidade" style="width: 20%"/>
            <p:inputText value="#{controleProduto.prod.estoque}"
                              required="true"
                              requiredMessage="quantidade Obrigatorio"
                              id="estoque"
                              size="30"
                              title="estoque"
                              style="width: 80%" />
           
            <p:outputLabel value="Preço" style="width: 20%"/>
            <p:inputText value="#{controleProduto.prod.valor}" 
                                      required="true"
                                      requiredMessage="O preço é obrigatório!"
                                      size="20"
                                      id="preco"
                                      onkeydown="mascaraMonetaria(this)" 
                                      converter="#{controleProduto.moneyConverter}"/>
            
            <p:commandButton icon="ui-icon-disk"
                             value="Salvar" 
                             action="listaProduto.xhtml"
                             actionListener="#{controleProduto.salvar()}"/>
            
             <p:commandButton value="Voltar"
                              icon="ui-icon-arrowrefresh-1-w"
                              immediate="true" 
                              action="listaProduto.xhtml"/>
       
        </h:panelGrid>
        </p:panel>
                </h:form> 
            
            
        </ui:define>
    </ui:composition>
</html>

